version: "3.8"

services:
  worker:
    build:
      context: ../../
      dockerfile: deployments/docker/Dockerfile
    container_name: tpwfc-worker
    environment:
      - CRAWLER_TARGET_URL=https://example.com
      - PAYLOAD_CMS_URL=http://host.docker.internal:3000
      - PAYLOAD_API_KEY=your-api-key
      - LOG_LEVEL=info
    volumes:
      - ./data:/root/data
      - ../../configs:/root/configs
    # TODO: Add appropriate scheduling or event-driven configuration
